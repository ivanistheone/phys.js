<!DOCTYPE html>
<html>
<head>
  <title>Centered content</title>


<script type="text/javascript" src="http://codeorigin.jquery.com/jquery-1.10.2.js" ></script>
<script type="text/javascript" src="w2ui.js" ></script>
<script type="text/javascript" src="w2ui.js" ></script>


<link rel="stylesheet" type="text/css" href="w2ui.css" media="screen" />












<script type="text/javascript">

$(function () {

  var place_passages = function () {
        var viewport_height = $("#passage1").height();
        $("#passage2").offset({ top: viewport_height, left: 0});
        $("#passage3").offset({ top: 2*viewport_height, left: 0});
        
  }


  // undo the "graceful degradation" css placement via top attribute
  $("#passage2").css({top:""});
  $("#passage3").css({top:""});
  place_passages();


  // set function to run every time window resizes
  $(window).on("resize", place_passages );

  

});





<!--CODE-->
$(function () {
	var pstyle = 'background-color: red; border: 1px solid #dfdfdf; padding: 5px;';
	$('#layout').w2layout({
		name: 'layout',
		panels: [
			{ type: 'top', size: 50, resizable: true, style: pstyle, content: 'top' },
			{ type: 'left', size: 200, resizable: true, style: pstyle, content: 'left' },
			{ type: 'main', style: 'background-color: white;', overflow: 'hidden' },
			{ type: 'preview', size: '50%', resizable: true, hidden: true, style: pstyle, content: 'preview' },
			{ type: 'right', size: 200, resizable: true, style: pstyle, content: 'right' },
			{ type: 'bottom', size: 50, resizable: true, hidden: true, style: pstyle, content: 'bottom' }
		]
	});
	
	
	
	// show 
	var show_level2_handler = function(e){
        // L2 
        var pstyle = 'background-color: blue; border: 1px solid #dfdfdf; padding: 0px;';
        $().w2layout({
            name: 'layout2',
            panels: [
                { type: 'top', size: 40, resizable: true, style: pstyle, content: 'top' },
                { type: 'left', size: 80, resizable: true, style: pstyle, content: 'left' },
                { type: 'main', style: pstyle },
                { type: 'preview', size: '50%', resizable: true, hidden: true, style: pstyle, content: 'preview' },
                { type: 'right', size: 80, resizable: true, style: pstyle, content: 'right' },
                { type: 'bottom', size: 40, resizable: true, hidden: true, style: pstyle, content: 'bottom' }
            ]
        });
        w2ui['layout'].content('main', w2ui['layout2']);
        $("#layout_layout_panel_main").off("click", show_level2_handler);
        
       	$("#layout_layout2_panel_main").on("click", show_level3_handler);

	};	

	// show 
	var show_level3_handler = function(e){
	    console.log("hello from L3");
        // L3 
        var pstyle = 'background-color: green; border: 1px solid #dfdfdf; padding: 0px;';
        $().w2layout({
            name: 'layout3',
            panels: [
                { type: 'top', size: 40, resizable: true, style: pstyle, content: 'top' },
                { type: 'left', size: 80, resizable: true, style: pstyle, content: 'left' },
                { type: 'main', style: pstyle },
                { type: 'preview', size: '50%', resizable: true, hidden: true, style: pstyle, content: 'preview' },
                { type: 'right', size: 80, resizable: true, style: pstyle, content: 'right' },
                { type: 'bottom', size: 40, resizable: true, hidden: true, style: pstyle, content: 'bottom' }
            ]
        });
        w2ui['layout2'].content('main', w2ui['layout3']);
        $("#layout_layout2_panel_main").off("click", show_level3_handler);
	};
	
	$("#layout_layout_panel_main").on("click", show_level2_handler);
    
	


	
	
});







</script>


<style type="text/css">

html {
  width:100%;
  height:100%;
}

body {
  background-color:#336699;
  color:#fff;
  font-family:Verdana,sans-serif;
  
  width:100%;
  height:100%;
  margin:0;
}


#passages {
  width:100%;
  height:100%;
  /* background:#FFFFFF; */


}

.passage {
  /* border:1px solid #446600; */
  font-size:1.2em;
  line-height:175%;
  text-align:left;
  width:100%;
  height:100%;
  display:table;
  border-bottom:1px solid #777777;
}


.hvcentered {
  width:100%;
  height:100%;
  display:table-cell;
  vertical-align:middle;

}

.passage .content {
  border: 1px solid red;
  /*   max-width:30em;  */
  margin:0 auto; 
}

.header {
  border: 1px solid blue;
  margin:0;
  

}


#passage1 {

}

#passage2 {
  position:absolute;
  /* border:4px solid blue; */
  top:600px;
}

#passage3 {
  position:absolute;
  top:1200px;
  /* border:4px solid blue; */
}

</style>
</head>

<body>
<div id="passages">

  <div id="passage1" class="passage" style="visibility: visible;">
    <div class="hvcentered">
      <div class="content">

<div id="layout" style="width: 100%; height: 670px;"></div>
<div style="height: 20px;"></div>

<span style="display: inline-block; width: 60px;"> Main: </span>
<input type="button" value="Toggle Top" onclick="w2ui['layout'].toggle('top')">
<input type="button" value="Toggle Left" onclick="w2ui['layout'].toggle('left')">
<input type="button" value="Toggle Right" onclick="w2ui['layout'].toggle('right')">
<input type="button" value="Toggle Preview" onclick="w2ui['layout'].toggle('preview')">
<input type="button" value="Toggle Bottom" onclick="w2ui['layout'].toggle('bottom')">

<div style="height: 10px;"></div>

<span style="display: inline-block; width: 60px;"> Nested: </span>
<input type="button" value="Toggle Top" onclick="w2ui['layout2'].toggle('top')">
<input type="button" value="Toggle Left" onclick="w2ui['layout2'].toggle('left')">
<input type="button" value="Toggle Right" onclick="w2ui['layout2'].toggle('right')">
<input type="button" value="Toggle Preview" onclick="w2ui['layout2'].toggle('preview')">
<input type="button" value="Toggle Bottom" onclick="w2ui['layout2'].toggle('bottom')">

      </div>
    </div> 
  </div>

  <div id="passage2" class="passage" style="visibility: visible;">
    <div class="hvcentered">
      <div class="content">
          <h2>Page 2 </h2>
          <p>Hopefully centered text on the page, and exactly one screen full below the title page.</p>
      </div>
    </div> 
  </div>

  <div id="passage3" class="passage" style="visibility: visible;">
    <div class="hvcentered">
      <div class="content">
          <h2>Page 3 </h2>
          <p>Centered and exactly two screen fulls below the title page.</p>
          <h3>Links</h3>

          <a href="http://gilbert.pellegrom.me/css-flexible-vertical-and-horizontal-centering">display:table-cell and display:table for horiz and vert centering</a>
          <br/>
          <a href="http://stackoverflow.com/questions/8896965/css-vertical-align-table-cell-dont-work-with-position-absolute">table cell container cannot be absolute</a>
          <br/>
          <a href="http://css-tricks.com/centering-in-the-unknown/">more on centering</a>
      </div>
    </div> 
  </div>

</div>

</body>
</html>

